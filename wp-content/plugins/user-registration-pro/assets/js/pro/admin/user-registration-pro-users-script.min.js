jQuery(function(e){var t=urUsersl10n,n={init:function(){n.initUIBindings()},initUIBindings:function(){e("#bulk-action-selector-top").on("change",n.handleActionsChange),n.handleActionsChange(),e("#user-registration-users-advanced-filter-btn").on("click",n.hideShowAdvancedFilters),e("#user_registration_pro_users_date_range_filter").on("change",n.hideShowAdvancedFilters),e("#user_registration_pro_start_date_filter, #user_registration_pro_end_date_filter").on("change",n.handleCustomDateRangeInput),e(".ur-back-button").on("click",n.handleBackButton),e("#user-registration-user-action-delete a").on("click",n.handleSingleUserDelete),e("#doaction.button.action").on("click",n.handleBulkDelete),e(".hide-column-tog").on("click",n.handleColumnStateChange)},handleColumnStateChange:function(n){var r=e(n.target),i=e("#user-registration-users-form-id");if(!["email","role","user_status","user_source","user_registered"].includes(r.val())&&i.length){var a=i.val();e.post(t.ajax_url,{action:"user_registration_pro_users_table_change_column_state",form:a,_wpnonce:t.change_column_nonce})}},handleActionsChange:function(){"update_role"===e("#bulk-action-selector-top").val()?(e("select#new_role").closest(".alignleft.actions").show(),e("#doaction").hide()):(e("select#new_role").closest(".alignleft.actions").hide(),e("#doaction").show())},handleBackButton:function(){window.history.back()},handleCustomDateRangeInput:function(){e("#user_registration_pro_users_date_range_filter").val("custom")},hideShowAdvancedFilters:function(t){e("#user_registration_pro_users_date_range_filter").is(e(t.target))?"custom"===e("#user_registration_pro_users_date_range_filter").val()?e("#user-registration-users-advanced-filters").slideDown(600):e("#user-registration-users-advanced-filters").slideUp(600):(e("#user-registration-users-advanced-filter-btn").is(e(t.target))||e("#user-registration-users-advanced-filter-btn").is(e(t.target).parent()))&&e("#user-registration-users-advanced-filters").slideToggle(600)},handleBulkDelete:function(t){if("delete"===e(t.target).parent().find("#bulk-action-selector-top").val()){t.preventDefault(),t.stopPropagation();var r=document.getElementById("user-registration-users-action-form"),i=new FormData(r),a=new URLSearchParams(i),o=window.location.origin+window.location.pathname+"?"+a.toString();n.handleDeletePrompt(o,"bulk")}},handleSingleUserDelete:function(t){t.preventDefault(),t.stopPropagation();var r=e(t.target).closest("#user-registration-user-action-delete").find("a").attr("href");n.handleDeletePrompt(r,"single")},handleDeletePrompt:function(e,n){var r=t.delete_prompt,i="single"==n?r.confirm_message_single:r.confirm_message_bulk;Swal.fire({title:"<img src='"+r.icon+"' id='delete-user-icon'>"+r.title,html:'<p id="html_1">'+i+'</p><p id="html_2">'+r.warning_message+"</p>",showCancelButton:!0,confirmButtonText:r.delete_label,cancelButtonText:r.cancel_label}).then(function(t){t.isConfirmed&&e&&(window.location.href=e)})}};e(document).ready(function(){e(".user-registration-users-page, #user-registration-pro-single-user-view").length&&n.init()})});